<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			#canvas1 {
				background-color: gainsboro;
				box-shadow: 0 0 3px red;
			}
		</style>
	</head>

	<body>
		<canvas id="canvas1" width="600" height="600">
			浏览器版本那么低，你咋不上天呢？
		</canvas>
	</body>
	<script type="text/javascript">
		var canvas = document.getElementById('canvas1');
		var context = canvas.getContext('2d');
		//Math.PI:180°
		var deg = Math.PI / 180;
		
		var img=new Image();
		img.src="img/Jinx5.jpg";
		img.onload=function(){
//			context.drawImage(img,startX,startY)
//			context.drawImage(img,100,100)
//			context.drawImage(img,startX,startY,width,height)
			context.drawImage(img,100,100,500,400)
//			context.drawImage(img,200,50,200,200,100,100,100,100)

			var obj=context.getImageData(100,100,500,400);
			console.log(obj);
			var arr=obj.data;
			for(var i=0;i<arr.length;i+=4){
				var r=arr[i];
				var g=arr[i+1];
				var b=arr[i+2];
				//灰度
				var gray=parseInt((r+g+b)/3);
				arr[i]=gray;
				arr[i+1]=gray;
				arr[i+2]=gray;
				//反色
//				arr[i]=255-r;
//				arr[i+1]=255-g;
//				arr[i+2]=255-b;
			}
			context.putImageData(obj,0,0)
		}
		
	</script>

</html>